<!-- app/views/lists/show.html.erb -->
<h1 class="mb-4 text-center"><%= @list.name %></h1>
<div class="container">
  <div class="row">
    <% @list.bookmarks.each do |bookmark| %>
      <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
        <div class="card shadow-sm h-100 d-flex flex-column">
          <div class="card-image">
            <img src="<%= bookmark.movie.poster_url %>" class="card-img-top img-fluid" alt="<%= bookmark.movie.title %> poster" style="object-fit: cover; height: 300px;">
          </div>
          <div class="card-body d-flex flex-column justify-content-between">
            <h5 class="card-title"><%= bookmark.movie.title %></h5>
            <p class="card-text"><%= bookmark.movie.overview %></p>
            <p class="card-text"><small class="text-muted"><strong>Comment:</strong> <%= bookmark.comment %></small></p>
          </div>
          <div class="card-footer mt-auto">
            <%= link_to 'View Details', movie_path(bookmark.movie), class: 'btn btn-primary btn-sm' %>
            <%= link_to 'Delete Bookmark', list_bookmark_path(bookmark.list, bookmark), data: { turbo_method: :delete,turbo_confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm' %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>

<!-- Include the form partial to add movies to the list -->
<div class="mt-4">
  <h2>Add a New Movie</h2>
  <%= render 'bookmarks/form', list: @list, bookmark: @bookmark %>
</div>

<div class="d-flex justify-content-center mt-4">
  <%= link_to 'Back to Lists', lists_path, class: 'btn btn-secondary btn-lg' %>
</div>
